/*!
* FontsLoaded 1.1.1
*
* Copyright 2014, Dirigo Design & Development http://github.com/dirigodev
* Released under the MIT license
*/
var FontsLoaded=function(t){var e=this,o={fonts:[],baseFont:"arial",interval:10,success:null,error:null,timeout:1e4};this.settings=this.extend(o,t),this.fontList=[],this.loadedFonts=0,this.timer=0,this.createElements(function(){e.loadingTimeout=window.setInterval(e.checkElementWidth,e.settings.interval,e)})};FontsLoaded.prototype.createElements=function(t){var e,o,n;for(e=0;e<this.settings.fonts.length;++e)n=this.settings.fonts[e],fontId=n.toCamelCase(),o=document.createElement("span"),o.className="fonts-loaded",o.id=fontId+"-webfont",o.style.fontFamily=n+", "+this.settings.baseFont,o.style.position="absolute",o.style.left="-9999px",o.innerHTML=n+" is loading",document.body.appendChild(o),o=document.createElement("span"),o.className="fonts-loaded",o.id=fontId+"-basefont",o.style.fontFamily=this.settings.baseFont,o.style.position="absolute",o.style.left="-9999px",o.innerHTML=n+" is loading",document.body.appendChild(o),this.fontList.push({font:fontId,width:o.offsetWidth,loaded:!1});"function"==typeof t&&t()},FontsLoaded.prototype.checkElementWidth=function(t){var e,o,n,s;for(e=0;e<t.fontList.length;++e)o=t.fontList[e],o.loaded||(n=document.getElementById(o.font+"-webfont"),s=document.getElementById(o.font+"-basefont"),n.style.color=t.randomColor(),s.style.color=t.randomColor(),n.offsetWidth!==s.offsetWidth&&(o.loaded=!0,t.trigger("fonts."+o.font,document.body),document.body.removeChild(n),document.body.removeChild(s),++t.loadedFonts));t.loadedFonts===t.fontList.length&&(window.clearInterval(t.loadingTimeout),t.trigger("fonts.all",document.body),"function"==typeof t.settings.success&&t.settings.success(t),document.body.style.position="relative"),t.timer=t.timer+10,t.timer>=t.settings.timeout&&(window.clearInterval(t.loadingTimeout),"function"==typeof t.settings.error&&t.settings.error(t,"timeout"))},FontsLoaded.prototype.trigger=function(t,e){var o;document.createEvent?(o=document.createEvent("HTMLEvents"),o.initEvent(t,!0,!0)):(o=document.createEventObject(),o.eventType=t),o.eventName=t,document.createEvent?e.dispatchEvent(o):e.fireEvent("on"+o.eventType,o)},FontsLoaded.prototype.randomColor=function(){for(var t="0123456789ABCDEF".split(""),e="#",o=0;6>o;o++)e+=t[Math.round(15*Math.random())];return e},FontsLoaded.prototype.extend=function(t,e){var o,n={};for(o in t)n[o]=t[o];for(o in e)n[o]=e[o];return n},String.prototype.toCamelCase=function(){var t=this.toLowerCase().replace(/\s/g,"-").replace(/-(.)/g,function(t,e){return e.toUpperCase()});return t};