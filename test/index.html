<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>FontsLoaded Test Page</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- TEST FONTS -->
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,700,300|Francois+One' rel='stylesheet' type='text/css'>

    </head>
    <body>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script src="/dist/fontsloaded.js"></script>

        <script>

            var fontsLoaded = new FontsLoaded({
                fonts    : ['Open Sans', 'Francois One'],
                baseFont : 'Times New Roman',
                interval : 10,
                timeout  : 10000,
                success  : function () {
                    // Do some things
                    console.log('Fonts are ready');
                },
                error    : function () {
                    // Do some things
                    console.log('Fonts failed to load');
                }
            });

            document.body.addEventListener('fonts.openSans', function () {
                document.body.className += ' open-sans-loaded';
            });

            document.body.addEventListener('fonts.francoisOne', function () {
                document.body.className += ' francois-one-loaded';
            });

            document.body.addEventListener('fonts.all', function () {
                document.body.className += ' fonts-loaded';
            });

            $(function () {

                if ($('body').hasClass('fonts-loaded')) {

                    $('<p/>', {
                        css : {
                            fontFamily : 'Open Sans'
                        },
                        text: 'Fonts loaded less fast.'
                    }).appendTo('body');

                } else {

                    document.body.addEventListener('fonts.all', function () {
                        $('<p/>', {
                            css : {
                                fontFamily : 'Francois One'
                            },
                            text: 'Fonts loaded less fast.'
                        }).appendTo('body');
                    });

                }

            });

        </script>

    </body>
</html>
